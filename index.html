<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¶ é…’å±‹ - ãŠé…’ã¨ãŠã¤ã¾ã¿ã®é€šè²©ã‚µã‚¤ãƒˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#fef7ee',
                            100: '#fdedd6',
                            500: '#f97316',
                            600: '#ea580c',
                            700: '#c2410c',
                        },
                        secondary: {
                            50: '#f8fafc',
                            100: '#f1f5f9',
                            500: '#64748b',
                            600: '#475569',
                            700: '#334155',
                        }
                    }
                }
            }
        }
    </script>
    <style>
        .btn-primary {
            @apply bg-primary-500 hover:bg-primary-600 text-white font-medium py-2 px-4 rounded-lg transition-colors;
        }
        .btn-secondary {
            @apply bg-secondary-100 hover:bg-secondary-200 text-secondary-700 font-medium py-2 px-4 rounded-lg transition-colors;
        }
        .card {
            @apply bg-white rounded-lg shadow-md p-6;
        }
    </style>
</head>
<body class="min-h-screen bg-gray-50">
    <div id="app">
        <div class="container mx-auto px-4 py-8">
            <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
            <header class="bg-white shadow-sm rounded-lg mb-8">
                <div class="flex items-center justify-between p-6">
                    <h1 class="text-3xl font-bold text-primary-600">ğŸ¶ é…’å±‹</h1>
                    <nav class="flex space-x-6">
                        <a href="#" onclick="showPage('home')" class="text-secondary-600 hover:text-primary-600 transition-colors">ãƒ›ãƒ¼ãƒ </a>
                        <a href="#" onclick="showPage('products')" class="text-secondary-600 hover:text-primary-600 transition-colors">å•†å“ä¸€è¦§</a>
                        <a href="#" onclick="showPage('diagnosis')" class="text-secondary-600 hover:text-primary-600 transition-colors">ãŠé…’è¨ºæ–­</a>
                        <a href="#" onclick="showPage('random')" class="text-secondary-600 hover:text-primary-600 transition-colors">ãƒ©ãƒ³ãƒ€ãƒ ææ¡ˆ</a>
                        <a href="#" onclick="showPage('cart')" class="text-secondary-600 hover:text-primary-600 transition-colors">ã‚«ãƒ¼ãƒˆ (<span id="cart-count">0</span>)</a>
                        <a href="#" onclick="showPage('admin')" class="text-secondary-600 hover:text-primary-600 transition-colors">ç®¡ç†è€…</a>
                    </nav>
                </div>
            </header>

            <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
            <main id="main-content">
                <!-- ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ -->
                <div id="home-page">
                    <!-- ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
                    <section class="card mb-12 text-center">
                        <h2 class="text-4xl font-bold text-secondary-700 mb-4">
                            ãŠé…’ã¨ãŠã¤ã¾ã¿ã®å°‚é–€åº—
                        </h2>
                        <p class="text-lg text-secondary-600 mb-8">
                            å³é¸ã•ã‚ŒãŸãŠé…’ã¨ãŠã¤ã¾ã¿ã‚’ãŠå±Šã‘ã—ã¾ã™ã€‚ãŠé…’è¨ºæ–­ã§ã´ã£ãŸã‚Šã®ä¸€æœ¬ã‚’è¦‹ã¤ã‘ã‚ˆã†ï¼
                        </p>
                        <div class="flex justify-center space-x-4">
                            <button onclick="showPage('products')" class="bg-primary-500 hover:bg-primary-600 text-white font-medium py-2 px-4 rounded-lg transition-colors">
                                å•†å“ã‚’è¦‹ã‚‹
                            </button>
                            <button onclick="showPage('diagnosis')" class="bg-secondary-100 hover:bg-secondary-200 text-secondary-700 font-medium py-2 px-4 rounded-lg transition-colors">
                                ãŠé…’è¨ºæ–­ã‚’å§‹ã‚ã‚‹
                            </button>
                        </div>
                    </section>

                    <!-- ç‰¹å¾´ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
                    <section class="grid md:grid-cols-3 gap-8 mb-12">
                        <div class="card text-center">
                            <div class="text-4xl mb-4">ğŸ¶</div>
                            <h3 class="text-xl font-semibold text-secondary-700 mb-2">å³é¸ã•ã‚ŒãŸãŠé…’</h3>
                            <p class="text-secondary-600">
                                æ—¥æœ¬é…’ã€ç„¼é…ã€ãƒ¯ã‚¤ãƒ³ã€ãƒ“ãƒ¼ãƒ«ãªã©ã€å³é¸ã•ã‚ŒãŸãŠé…’ã‚’å–ã‚Šæƒãˆã¦ã„ã¾ã™ã€‚
                            </p>
                        </div>
                        <div class="card text-center">
                            <div class="text-4xl mb-4">ğŸ¥œ</div>
                            <h3 class="text-xl font-semibold text-secondary-700 mb-2">ã“ã ã‚ã‚Šã®ãŠã¤ã¾ã¿</h3>
                            <p class="text-secondary-600">
                                ãŠé…’ã«åˆã†ç¾å‘³ã—ã„ãŠã¤ã¾ã¿ã‚’è±Šå¯Œã«å–ã‚Šæƒãˆã¦ã„ã¾ã™ã€‚
                            </p>
                        </div>
                        <div class="card text-center">
                            <div class="text-4xl mb-4">ğŸ¯</div>
                            <h3 class="text-xl font-semibold text-secondary-700 mb-2">ãŠé…’è¨ºæ–­</h3>
                            <p class="text-secondary-600">
                                ã‚ãªãŸã®å¥½ã¿ã«åˆã£ãŸãŠé…’ã‚’è¨ºæ–­æ©Ÿèƒ½ã§è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
                            </p>
                        </div>
                    </section>

                    <!-- ãŠã™ã™ã‚å•†å“ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
                    <section class="card">
                        <h3 class="text-2xl font-bold text-secondary-700 mb-6">ãŠã™ã™ã‚å•†å“</h3>
                        <div class="grid md:grid-cols-4 gap-6" id="featured-products">
                            <!-- å•†å“ã¯ JavaScript ã§å‹•çš„ã«ç”Ÿæˆ -->
                        </div>
                    </section>
                </div>

                <!-- å•†å“ä¸€è¦§ãƒšãƒ¼ã‚¸ -->
                <div id="products-page" class="hidden">
                    <div class="flex flex-col lg:flex-row gap-8">
                        <!-- ã‚µã‚¤ãƒ‰ãƒãƒ¼ -->
                        <aside class="lg:w-1/4">
                            <div class="card">
                                <h3 class="text-lg font-semibold text-secondary-700 mb-4">æ¤œç´¢ãƒ»çµã‚Šè¾¼ã¿</h3>
                                <div class="mb-6">
                                    <label class="block text-sm font-medium text-secondary-700 mb-2">å•†å“æ¤œç´¢</label>
                                    <input type="text" id="search-input" placeholder="å•†å“åã§æ¤œç´¢" 
                                           class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                                           onkeyup="filterProducts()">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-secondary-700 mb-2">ã‚«ãƒ†ã‚´ãƒªãƒ¼</label>
                                    <div class="space-y-2" id="category-filters">
                                        <!-- ã‚«ãƒ†ã‚´ãƒªãƒ¼ãƒœã‚¿ãƒ³ã¯ JavaScript ã§ç”Ÿæˆ -->
                                    </div>
                                </div>
                            </div>
                        </aside>

                        <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
                        <main class="lg:w-3/4">
                            <div class="mb-6">
                                <h1 class="text-2xl font-bold text-secondary-700 mb-2">å•†å“ä¸€è¦§</h1>
                                <p class="text-secondary-600" id="product-count">å•†å“ã‚’èª­ã¿è¾¼ã¿ä¸­...</p>
                            </div>
                            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6" id="products-grid">
                                <!-- å•†å“ã¯ JavaScript ã§å‹•çš„ã«ç”Ÿæˆ -->
                            </div>
                        </main>
                    </div>
                </div>

                <!-- ã‚«ãƒ¼ãƒˆãƒšãƒ¼ã‚¸ -->
                <div id="cart-page" class="hidden">
                    <h1 class="text-3xl font-bold text-secondary-700 mb-8">ğŸ›’ ã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚°ã‚«ãƒ¼ãƒˆ</h1>
                    <div id="cart-content">
                        <!-- ã‚«ãƒ¼ãƒˆå†…å®¹ã¯ JavaScript ã§å‹•çš„ã«ç”Ÿæˆ -->
                    </div>
                </div>

                <!-- ãŠé…’è¨ºæ–­ãƒšãƒ¼ã‚¸ -->
                <div id="diagnosis-page" class="hidden">
                    <div class="max-w-2xl mx-auto">
                        <div class="card">
                            <h1 class="text-2xl font-bold text-secondary-700 mb-4">ğŸ¯ ãŠé…’è¨ºæ–­</h1>
                            <p class="text-secondary-600 mb-6">
                                ã„ãã¤ã‹ã®è³ªå•ã«ãŠç­”ãˆã„ãŸã ãã¨ã€ã‚ãªãŸã«ã´ã£ãŸã‚Šã®ãŠé…’ã‚’ãŠã™ã™ã‚ã—ã¾ã™ï¼
                            </p>
                            <div id="diagnosis-content">
                                <button onclick="startDiagnosis()" class="bg-primary-500 hover:bg-primary-600 text-white font-medium py-3 px-6 rounded-lg transition-colors">
                                    è¨ºæ–­ã‚’é–‹å§‹ã™ã‚‹
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ãƒ©ãƒ³ãƒ€ãƒ ææ¡ˆãƒšãƒ¼ã‚¸ -->
                <div id="random-page" class="hidden">
                    <div class="max-w-4xl mx-auto">
                        <div class="text-center mb-8">
                            <h1 class="text-3xl font-bold text-secondary-700 mb-4">ğŸ² ãƒ©ãƒ³ãƒ€ãƒ ææ¡ˆ</h1>
                            <p class="text-lg text-secondary-600 mb-6">
                                é‹å‘½ã®ä¸€æœ¬ã‚’è¦‹ã¤ã‘ã‚ˆã†ï¼ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ãƒ©ãƒ³ãƒ€ãƒ ã«ãŠé…’ã‚„ãŠã¤ã¾ã¿ã‚’ææ¡ˆã—ã¾ã™ã€‚
                            </p>
                            <button onclick="getRandomProduct()" class="bg-primary-500 hover:bg-primary-600 text-white font-medium py-3 px-8 rounded-lg transition-colors">
                                ğŸ¯ ãƒ©ãƒ³ãƒ€ãƒ ã«é¸ã¶
                            </button>
                        </div>
                        <div id="random-result" class="hidden">
                            <!-- ãƒ©ãƒ³ãƒ€ãƒ çµæœã¯ JavaScript ã§å‹•çš„ã«ç”Ÿæˆ -->
                        </div>
                    </div>
                </div>

                <!-- ç®¡ç†è€…ãƒšãƒ¼ã‚¸ -->
                <div id="admin-page" class="hidden">
                    <div class="max-w-md mx-auto">
                        <div class="card">
                            <h1 class="text-2xl font-bold text-secondary-700 mb-4">ç®¡ç†è€…ãƒ­ã‚°ã‚¤ãƒ³</h1>
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-sm font-medium text-secondary-700 mb-2">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</label>
                                    <input type="email" id="admin-email" value="admin@sake-shop.com" 
                                           class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-secondary-700 mb-2">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰</label>
                                    <input type="password" id="admin-password" value="admin123"
                                           class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500">
                                </div>
                                <button onclick="adminLogin()" class="w-full bg-primary-500 hover:bg-primary-600 text-white font-medium py-2 px-4 rounded-lg transition-colors">
                                    ãƒ­ã‚°ã‚¤ãƒ³
                                </button>
                            </div>
                            <div class="mt-4 bg-gray-50 rounded-md p-4">
                                <p class="text-sm text-secondary-600">
                                    <strong>ãƒ‡ãƒ¢ç”¨ãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±:</strong><br>
                                    ãƒ¡ãƒ¼ãƒ«: admin@sake-shop.com<br>
                                    ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰: admin123
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </main>

            <!-- ãƒ•ãƒƒã‚¿ãƒ¼ -->
            <footer class="mt-16 text-center text-secondary-500">
                <p>&copy; 2024 é…’å±‹. All rights reserved.</p>
            </footer>
        </div>
    </div>

    <script>
        // ã‚µãƒ³ãƒ—ãƒ«å•†å“ãƒ‡ãƒ¼ã‚¿
        const products = [
            {
                id: 1,
                name: 'ç´”ç±³å¤§åŸé†¸ å±±ç”°éŒ¦',
                category: 'sake',
                price: 3500,
                description: 'å±±ç”°éŒ¦ã‚’ä½¿ç”¨ã—ãŸä¸Šå“ãªå‘³ã‚ã„ã®ç´”ç±³å¤§åŸé†¸é…’',
                alcoholPercent: 15.5,
                tags: ['æ—¥æœ¬é…’', 'ç´”ç±³å¤§åŸé†¸', 'å±±ç”°éŒ¦']
            },
            {
                id: 2,
                name: 'æœ¬æ ¼ç„¼é… é»’éœ§å³¶',
                category: 'shochu',
                price: 1200,
                description: 'ã•ã¤ã¾ã„ã‚‚ã®ç”˜ã¿ãŒæ„Ÿã˜ã‚‰ã‚Œã‚‹æœ¬æ ¼ç„¼é…',
                alcoholPercent: 25,
                tags: ['ç„¼é…', 'ã•ã¤ã¾ã„ã‚‚', 'æœ¬æ ¼']
            },
            {
                id: 3,
                name: 'ã‚·ãƒ£ãƒ«ãƒ‰ãƒ ç™½ãƒ¯ã‚¤ãƒ³',
                category: 'wine',
                price: 2800,
                description: 'ãƒ•ãƒ«ãƒ¼ãƒ†ã‚£ãƒ¼ã§çˆ½ã‚„ã‹ãªç™½ãƒ¯ã‚¤ãƒ³',
                alcoholPercent: 12,
                tags: ['ãƒ¯ã‚¤ãƒ³', 'ç™½ãƒ¯ã‚¤ãƒ³', 'ã‚·ãƒ£ãƒ«ãƒ‰ãƒ']
            },
            {
                id: 4,
                name: 'ã‚¯ãƒ©ãƒ•ãƒˆãƒ“ãƒ¼ãƒ« IPA',
                category: 'beer',
                price: 450,
                description: 'ãƒ›ãƒƒãƒ—ã®è‹¦å‘³ãŒåŠ¹ã„ãŸã‚¯ãƒ©ãƒ•ãƒˆãƒ“ãƒ¼ãƒ«',
                alcoholPercent: 6.5,
                tags: ['ãƒ“ãƒ¼ãƒ«', 'ã‚¯ãƒ©ãƒ•ãƒˆ', 'IPA']
            },
            {
                id: 5,
                name: 'ãƒãƒ¼ã‚ºç››ã‚Šåˆã‚ã›',
                category: 'snack',
                price: 1800,
                description: '3ç¨®é¡ã®ãƒãƒ¼ã‚ºã®ç››ã‚Šåˆã‚ã›',
                alcoholPercent: 0,
                tags: ['ãŠã¤ã¾ã¿', 'ãƒãƒ¼ã‚º', 'ç››ã‚Šåˆã‚ã›']
            },
            {
                id: 6,
                name: 'ãƒŠãƒƒãƒ„ãƒŸãƒƒã‚¯ã‚¹',
                category: 'snack',
                price: 680,
                description: '4ç¨®é¡ã®ãƒŠãƒƒãƒ„ã‚’ãƒŸãƒƒã‚¯ã‚¹ã—ãŸäººæ°—ã®ãŠã¤ã¾ã¿',
                alcoholPercent: 0,
                tags: ['ãŠã¤ã¾ã¿', 'ãƒŠãƒƒãƒ„', 'ãƒŸãƒƒã‚¯ã‚¹']
            }
        ];

        const categories = [
            { id: 'all', name: 'ã™ã¹ã¦' },
            { id: 'sake', name: 'æ—¥æœ¬é…’' },
            { id: 'shochu', name: 'ç„¼é…' },
            { id: 'wine', name: 'ãƒ¯ã‚¤ãƒ³' },
            { id: 'beer', name: 'ãƒ“ãƒ¼ãƒ«' },
            { id: 'snack', name: 'ãŠã¤ã¾ã¿' }
        ];

        let cart = [];
        let currentCategory = 'all';

        // ãƒšãƒ¼ã‚¸è¡¨ç¤ºåˆ¶å¾¡
        function showPage(pageId) {
            const pages = ['home', 'products', 'cart', 'diagnosis', 'random', 'admin'];
            pages.forEach(page => {
                const element = document.getElementById(page + '-page');
                if (element) {
                    element.classList.add('hidden');
                }
            });
            
            const targetPage = document.getElementById(pageId + '-page');
            if (targetPage) {
                targetPage.classList.remove('hidden');
            }

            if (pageId === 'products') {
                loadProducts();
            } else if (pageId === 'cart') {
                loadCart();
            }
        }

        // å•†å“è¡¨ç¤º
        function loadProducts() {
            const grid = document.getElementById('products-grid');
            const countElement = document.getElementById('product-count');
            
            const filteredProducts = filterProductsByCategory();
            countElement.textContent = `${filteredProducts.length}ä»¶ã®å•†å“ãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸ`;
            
            grid.innerHTML = filteredProducts.map(product => `
                <div class="bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow">
                    <div class="bg-gray-200 h-48 rounded-lg mb-4 flex items-center justify-center">
                        <span class="text-gray-500">å•†å“ç”»åƒ</span>
                    </div>
                    <h3 class="font-semibold text-secondary-700 mb-2">${product.name}</h3>
                    <p class="text-secondary-600 text-sm mb-3">${product.description}</p>
                    <div class="flex flex-wrap gap-1 mb-3">
                        ${product.tags.map(tag => `<span class="px-2 py-1 bg-primary-100 text-primary-700 text-xs rounded-full">${tag}</span>`).join('')}
                    </div>
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-primary-600 font-bold text-lg">Â¥${product.price.toLocaleString()}</p>
                            ${product.alcoholPercent > 0 ? `<p class="text-secondary-500 text-sm">ã‚¢ãƒ«ã‚³ãƒ¼ãƒ«åº¦æ•°: ${product.alcoholPercent}%</p>` : ''}
                        </div>
                        <button onclick="addToCart(${product.id})" class="bg-primary-500 hover:bg-primary-600 text-white font-medium py-2 px-4 rounded-lg transition-colors">
                            ã‚«ãƒ¼ãƒˆã«è¿½åŠ 
                        </button>
                    </div>
                </div>
            `).join('');

            // ã‚«ãƒ†ã‚´ãƒªãƒ¼ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼
            const categoryFilters = document.getElementById('category-filters');
            categoryFilters.innerHTML = categories.map(category => `
                <button onclick="setCategory('${category.id}')" 
                        class="w-full text-left px-3 py-2 rounded-lg transition-colors ${currentCategory === category.id ? 'bg-primary-100 text-primary-700 font-medium' : 'text-secondary-600 hover:bg-gray-100'}">
                    ${category.name}
                </button>
            `).join('');
        }

        function filterProductsByCategory() {
            return products.filter(product => 
                currentCategory === 'all' || product.category === currentCategory
            );
        }

        function setCategory(categoryId) {
            currentCategory = categoryId;
            loadProducts();
        }

        function filterProducts() {
            const searchTerm = document.getElementById('search-input').value.toLowerCase();
            const grid = document.getElementById('products-grid');
            const countElement = document.getElementById('product-count');
            
            const filteredProducts = products.filter(product => {
                const matchesCategory = currentCategory === 'all' || product.category === currentCategory;
                const matchesSearch = product.name.toLowerCase().includes(searchTerm) ||
                                   product.description.toLowerCase().includes(searchTerm) ||
                                   product.tags.some(tag => tag.toLowerCase().includes(searchTerm));
                return matchesCategory && matchesSearch;
            });

            countElement.textContent = `${filteredProducts.length}ä»¶ã®å•†å“ãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸ`;
            
            grid.innerHTML = filteredProducts.map(product => `
                <div class="bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow">
                    <div class="bg-gray-200 h-48 rounded-lg mb-4 flex items-center justify-center">
                        <span class="text-gray-500">å•†å“ç”»åƒ</span>
                    </div>
                    <h3 class="font-semibold text-secondary-700 mb-2">${product.name}</h3>
                    <p class="text-secondary-600 text-sm mb-3">${product.description}</p>
                    <div class="flex flex-wrap gap-1 mb-3">
                        ${product.tags.map(tag => `<span class="px-2 py-1 bg-primary-100 text-primary-700 text-xs rounded-full">${tag}</span>`).join('')}
                    </div>
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-primary-600 font-bold text-lg">Â¥${product.price.toLocaleString()}</p>
                            ${product.alcoholPercent > 0 ? `<p class="text-secondary-500 text-sm">ã‚¢ãƒ«ã‚³ãƒ¼ãƒ«åº¦æ•°: ${product.alcoholPercent}%</p>` : ''}
                        </div>
                        <button onclick="addToCart(${product.id})" class="bg-primary-500 hover:bg-primary-600 text-white font-medium py-2 px-4 rounded-lg transition-colors">
                            ã‚«ãƒ¼ãƒˆã«è¿½åŠ 
                        </button>
                    </div>
                </div>
            `).join('');
        }

        // ã‚«ãƒ¼ãƒˆæ©Ÿèƒ½
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({ ...product, quantity: 1 });
            }
            
            updateCartCount();
            alert('ã‚«ãƒ¼ãƒˆã«è¿½åŠ ã—ã¾ã—ãŸï¼');
        }

        function updateCartCount() {
            const count = cart.reduce((total, item) => total + item.quantity, 0);
            document.getElementById('cart-count').textContent = count;
        }

        function loadCart() {
            const cartContent = document.getElementById('cart-content');
            
            if (cart.length === 0) {
                cartContent.innerHTML = `
                    <div class="bg-white rounded-lg shadow-md p-12 text-center">
                        <div class="text-6xl mb-4">ğŸ›’</div>
                        <h3 class="text-xl font-semibold text-secondary-700 mb-2">ã‚«ãƒ¼ãƒˆã¯ç©ºã§ã™</h3>
                        <p class="text-secondary-600 mb-6">å•†å“ã‚’è¿½åŠ ã—ã¦ãŠè²·ã„ç‰©ã‚’å§‹ã‚ã¾ã—ã‚‡ã†ï¼</p>
                        <button onclick="showPage('products')" class="bg-primary-500 hover:bg-primary-600 text-white font-medium py-2 px-4 rounded-lg transition-colors">
                            å•†å“ä¸€è¦§ã‚’è¦‹ã‚‹
                        </button>
                    </div>
                `;
                return;
            }

            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            
            cartContent.innerHTML = `
                <div class="grid lg:grid-cols-3 gap-8">
                    <div class="lg:col-span-2">
                        <div class="bg-white rounded-lg shadow-md p-6">
                            <h2 class="text-xl font-semibold text-secondary-700 mb-6">ã‚«ãƒ¼ãƒˆå†…å•†å“ (${cart.reduce((total, item) => total + item.quantity, 0)}ç‚¹)</h2>
                            <div class="space-y-4">
                                ${cart.map(item => `
                                    <div class="flex items-center p-4 border border-gray-200 rounded-lg">
                                        <div class="w-20 h-20 bg-gray-200 rounded-lg flex items-center justify-center mr-4">
                                            <span class="text-2xl">ğŸ“¦</span>
                                        </div>
                                        <div class="flex-1">
                                            <h3 class="font-semibold text-secondary-700 mb-1">${item.name}</h3>
                                            <p class="text-primary-600 font-bold">Â¥${item.price.toLocaleString()}</p>
                                        </div>
                                        <div class="flex items-center space-x-3">
                                            <button onclick="updateQuantity(${item.id}, ${item.quantity - 1})" class="w-8 h-8 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center transition-colors">-</button>
                                            <span class="w-8 text-center font-medium">${item.quantity}</span>
                                            <button onclick="updateQuantity(${item.id}, ${item.quantity + 1})" class="w-8 h-8 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center transition-colors">+</button>
                                        </div>
                                        <div class="ml-6 text-right">
                                            <p class="font-bold text-secondary-700 mb-2">Â¥${(item.price * item.quantity).toLocaleString()}</p>
                                            <button onclick="removeFromCart(${item.id})" class="text-red-600 hover:text-red-700 text-sm transition-colors">å‰Šé™¤</button>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                    <div class="lg:col-span-1">
                        <div class="bg-white rounded-lg shadow-md p-6">
                            <h2 class="text-xl font-semibold text-secondary-700 mb-6">æ³¨æ–‡ã‚µãƒãƒªãƒ¼</h2>
                            <div class="space-y-3 mb-6">
                                <div class="flex justify-between">
                                    <span class="text-secondary-600">å•†å“åˆè¨ˆ</span>
                                    <span class="font-medium">Â¥${total.toLocaleString()}</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-secondary-600">é€æ–™</span>
                                    <span class="font-medium">Â¥500</span>
                                </div>
                                <div class="border-t pt-3">
                                    <div class="flex justify-between text-lg font-bold">
                                        <span>åˆè¨ˆ</span>
                                        <span class="text-primary-600">Â¥${(total + 500).toLocaleString()}</span>
                                    </div>
                                </div>
                            </div>
                            <button onclick="checkout()" class="w-full bg-primary-500 hover:bg-primary-600 text-white font-medium py-2 px-4 rounded-lg transition-colors mb-4">
                                ãƒ¬ã‚¸ã«é€²ã‚€
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        function updateQuantity(productId, newQuantity) {
            if (newQuantity <= 0) {
                removeFromCart(productId);
                return;
            }
            
            const item = cart.find(item => item.id === productId);
            if (item) {
                item.quantity = newQuantity;
                updateCartCount();
                loadCart();
            }
        }

        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            updateCartCount();
            loadCart();
        }

        function checkout() {
            alert('æ³¨æ–‡ãŒå®Œäº†ã—ã¾ã—ãŸï¼ï¼ˆãƒ‡ãƒ¢ç‰ˆï¼‰');
            cart = [];
            updateCartCount();
            loadCart();
        }

        // ãƒ©ãƒ³ãƒ€ãƒ ææ¡ˆ
        function getRandomProduct() {
            const randomIndex = Math.floor(Math.random() * products.length);
            const product = products[randomIndex];
            
            document.getElementById('random-result').innerHTML = `
                <div class="bg-white rounded-lg shadow-md p-8">
                    <div class="grid md:grid-cols-2 gap-8">
                        <div class="flex flex-col items-center">
                            <div class="bg-gray-200 w-full h-64 rounded-lg mb-4 flex items-center justify-center">
                                <span class="text-gray-500">å•†å“ç”»åƒ</span>
                            </div>
                        </div>
                        <div class="flex flex-col justify-center">
                            <h2 class="text-2xl font-bold text-secondary-700 mb-4">${product.name}</h2>
                            <p class="text-secondary-600 mb-4">${product.description}</p>
                            ${product.alcoholPercent > 0 ? `<p class="text-secondary-500 mb-4">ã‚¢ãƒ«ã‚³ãƒ¼ãƒ«åº¦æ•°: ${product.alcoholPercent}%</p>` : ''}
                            <div class="flex items-center justify-between">
                                <div class="text-2xl font-bold text-primary-600">Â¥${product.price.toLocaleString()}</div>
                                <button onclick="addToCart(${product.id})" class="bg-primary-500 hover:bg-primary-600 text-white font-medium py-2 px-4 rounded-lg transition-colors">
                                    ã‚«ãƒ¼ãƒˆã«è¿½åŠ 
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('random-result').classList.remove('hidden');
        }

        // ãŠé…’è¨ºæ–­
        function startDiagnosis() {
            const questions = [
                {
                    question: 'ã©ã®ã‚ˆã†ãªå‘³ãŒãŠå¥½ã¿ã§ã™ã‹ï¼Ÿ',
                    options: ['ç”˜ã„', 'è¾›å£', 'è‹¦ã„', 'é…¸ã£ã±ã„']
                },
                {
                    question: 'ã‚¢ãƒ«ã‚³ãƒ¼ãƒ«åº¦æ•°ã®å¥½ã¿ã¯ï¼Ÿ',
                    options: ['ä½ã‚ï¼ˆ5-10%ï¼‰', 'æ™®é€šï¼ˆ10-15%ï¼‰', 'é«˜ã‚ï¼ˆ15-25%ï¼‰', 'å¼·ã‚ï¼ˆ25%ä»¥ä¸Šï¼‰']
                },
                {
                    question: 'é£²ã‚€ã‚·ãƒ¼ãƒ³ã¯ï¼Ÿ',
                    options: ['é£Ÿäº‹ã¨ä¸€ç·’ã«', 'ä¸€äººã§ã‚†ã£ãã‚Š', 'å‹äººã¨æ¥½ã—ã', 'ç‰¹åˆ¥ãªæ—¥ã«']
                }
            ];

            let currentQuestion = 0;
            let answers = [];

            function showQuestion() {
                const content = document.getElementById('diagnosis-content');
                const question = questions[currentQuestion];
                
                content.innerHTML = `
                    <div class="mb-6">
                        <div class="flex justify-between items-center mb-4">
                            <span class="text-sm text-secondary-500">è³ªå• ${currentQuestion + 1} / ${questions.length}</span>
                            <div class="w-full bg-gray-200 rounded-full h-2 ml-4">
                                <div class="bg-primary-500 h-2 rounded-full transition-all duration-300" style="width: ${((currentQuestion + 1) / questions.length) * 100}%"></div>
                            </div>
                        </div>
                        <h3 class="text-xl font-semibold text-secondary-700 mb-6">${question.question}</h3>
                        <div class="space-y-3">
                            ${question.options.map((option, index) => `
                                <button onclick="selectAnswer(${index})" class="w-full text-left p-4 border border-gray-300 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors">
                                    ${option}
                                </button>
                            `).join('')}
                        </div>
                    </div>
                `;
            }

            window.selectAnswer = function(answerIndex) {
                answers.push(answerIndex);
                currentQuestion++;
                
                if (currentQuestion < questions.length) {
                    showQuestion();
                } else {
                    showResult();
                }
            };

            function showResult() {
                // ç°¡å˜ãªè¨ºæ–­ãƒ­ã‚¸ãƒƒã‚¯
                let recommendedProduct;
                if (answers[0] === 0) { // ç”˜ã„
                    recommendedProduct = products.find(p => p.category === 'wine');
                } else if (answers[0] === 1) { // è¾›å£
                    recommendedProduct = products.find(p => p.category === 'sake');
                } else if (answers[0] === 2) { // è‹¦ã„
                    recommendedProduct = products.find(p => p.category === 'beer');
                } else { // é…¸ã£ã±ã„
                    recommendedProduct = products.find(p => p.category === 'shochu');
                }

                const content = document.getElementById('diagnosis-content');
                content.innerHTML = `
                    <div class="text-center mb-8">
                        <div class="text-6xl mb-4">ğŸ¯</div>
                        <h3 class="text-2xl font-bold text-secondary-700 mb-4">è¨ºæ–­çµæœ</h3>
                        <p class="text-lg text-secondary-600 mb-8">ã‚ãªãŸã«ãŠã™ã™ã‚ã®ãŠé…’ã¯ã“ã¡ã‚‰ã§ã™ï¼</p>
                    </div>
                    <div class="bg-primary-50 rounded-lg p-6 mb-6">
                        <div class="grid md:grid-cols-2 gap-6">
                            <div class="bg-gray-200 h-48 rounded-lg flex items-center justify-center">
                                <span class="text-gray-500">å•†å“ç”»åƒ</span>
                            </div>
                            <div class="flex flex-col justify-center">
                                <h4 class="text-xl font-bold text-secondary-700 mb-2">${recommendedProduct.name}</h4>
                                <p class="text-secondary-600 mb-4">${recommendedProduct.description}</p>
                                <div class="flex items-center justify-between">
                                    <div class="text-xl font-bold text-primary-600">Â¥${recommendedProduct.price.toLocaleString()}</div>
                                    <button onclick="addToCart(${recommendedProduct.id})" class="bg-primary-500 hover:bg-primary-600 text-white font-medium py-2 px-4 rounded-lg transition-colors">
                                        ã‚«ãƒ¼ãƒˆã«è¿½åŠ 
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="text-center">
                        <button onclick="startDiagnosis()" class="bg-secondary-100 hover:bg-secondary-200 text-secondary-700 font-medium py-2 px-4 rounded-lg transition-colors mr-4">
                            ã‚‚ã†ä¸€åº¦è¨ºæ–­ã™ã‚‹
                        </button>
                        <button onclick="showPage('products')" class="bg-primary-500 hover:bg-primary-600 text-white font-medium py-2 px-4 rounded-lg transition-colors">
                            ä»–ã®å•†å“ã‚‚è¦‹ã‚‹
                        </button>
                    </div>
                `;
            }

            showQuestion();
        }

        // ç®¡ç†è€…ãƒ­ã‚°ã‚¤ãƒ³
        function adminLogin() {
            const email = document.getElementById('admin-email').value;
            const password = document.getElementById('admin-password').value;
            
            if (email === 'admin@sake-shop.com' && password === 'admin123') {
                showAdminDashboard();
            } else {
                alert('ãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“ã€‚');
            }
        }

        function showAdminDashboard() {
            const adminPage = document.getElementById('admin-page');
            adminPage.innerHTML = `
                <div class="max-w-6xl mx-auto">
                    <div class="flex items-center justify-between mb-8">
                        <h1 class="text-3xl font-bold text-secondary-700">ç®¡ç†è€…ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</h1>
                        <button onclick="showPage('home')" class="bg-secondary-100 hover:bg-secondary-200 text-secondary-700 font-medium py-2 px-4 rounded-lg transition-colors">
                            ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
                        </button>
                    </div>
                    
                    <!-- çµ±è¨ˆã‚«ãƒ¼ãƒ‰ -->
                    <div class="grid md:grid-cols-4 gap-6 mb-8">
                        <div class="bg-white rounded-lg shadow-md p-6">
                            <div class="flex items-center">
                                <div class="text-3xl mr-4">ğŸ“¦</div>
                                <div>
                                    <p class="text-secondary-600 text-sm">ç·å•†å“æ•°</p>
                                    <p class="text-2xl font-bold text-secondary-700">${products.length}</p>
                                </div>
                            </div>
                        </div>
                        <div class="bg-white rounded-lg shadow-md p-6">
                            <div class="flex items-center">
                                <div class="text-3xl mr-4">ğŸ›’</div>
                                <div>
                                    <p class="text-secondary-600 text-sm">ã‚«ãƒ¼ãƒˆå†…å•†å“</p>
                                    <p class="text-2xl font-bold text-secondary-700">${cart.reduce((total, item) => total + item.quantity, 0)}</p>
                                </div>
                            </div>
                        </div>
                        <div class="bg-white rounded-lg shadow-md p-6">
                            <div class="flex items-center">
                                <div class="text-3xl mr-4">ğŸ’°</div>
                                <div>
                                    <p class="text-secondary-600 text-sm">å£²ä¸Šäºˆæƒ³</p>
                                    <p class="text-2xl font-bold text-secondary-700">Â¥${Math.floor(Math.random() * 100000).toLocaleString()}</p>
                                </div>
                            </div>
                        </div>
                        <div class="bg-white rounded-lg shadow-md p-6">
                            <div class="flex items-center">
                                <div class="text-3xl mr-4">ğŸ‘¥</div>
                                <div>
                                    <p class="text-secondary-600 text-sm">ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãƒ¼</p>
                                    <p class="text-2xl font-bold text-secondary-700">${Math.floor(Math.random() * 50) + 10}</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- å•†å“ç®¡ç† -->
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h2 class="text-xl font-semibold text-secondary-700 mb-6">å•†å“ç®¡ç†</h2>
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead>
                                    <tr class="border-b">
                                        <th class="text-left py-3 px-4">å•†å“å</th>
                                        <th class="text-left py-3 px-4">ã‚«ãƒ†ã‚´ãƒªãƒ¼</th>
                                        <th class="text-left py-3 px-4">ä¾¡æ ¼</th>
                                        <th class="text-left py-3 px-4">åœ¨åº«çŠ¶æ³</th>
                                        <th class="text-left py-3 px-4">æ“ä½œ</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    ${products.map(product => `
                                        <tr class="border-b hover:bg-gray-50">
                                            <td class="py-3 px-4 font-medium">${product.name}</td>
                                            <td class="py-3 px-4">${categories.find(c => c.id === product.category)?.name || product.category}</td>
                                            <td class="py-3 px-4">Â¥${product.price.toLocaleString()}</td>
                                            <td class="py-3 px-4">
                                                <span class="px-2 py-1 bg-green-100 text-green-700 text-sm rounded-full">åœ¨åº«ã‚ã‚Š</span>
                                            </td>
                                            <td class="py-3 px-4">
                                                <button class="text-primary-600 hover:text-primary-700 text-sm mr-3">ç·¨é›†</button>
                                                <button class="text-red-600 hover:text-red-700 text-sm">å‰Šé™¤</button>
                                            </td>
                                        </tr>
                                    `).join('')}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            `;
        }

        // åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // ãŠã™ã™ã‚å•†å“ã‚’è¡¨ç¤º
            const featuredProducts = document.getElementById('featured-products');
            const featured = products.slice(0, 4);
            featuredProducts.innerHTML = featured.map(product => `
                <div class="bg-white rounded-lg shadow-md p-4 hover:shadow-lg transition-shadow">
                    <div class="bg-gray-200 h-32 rounded-lg mb-3 flex items-center justify-center">
                        <span class="text-gray-500 text-sm">å•†å“ç”»åƒ</span>
                    </div>
                    <h4 class="font-semibold text-secondary-700 mb-2 text-sm">${product.name}</h4>
                    <p class="text-primary-600 font-bold mb-3">Â¥${product.price.toLocaleString()}</p>
                    <button onclick="addToCart(${product.id})" class="w-full bg-primary-500 hover:bg-primary-600 text-white font-medium py-2 px-3 rounded-lg transition-colors text-sm">
                        ã‚«ãƒ¼ãƒˆã«è¿½åŠ 
                    </button>
                </div>
            `).join('');
            
            updateCartCount();
        });
    </script>
</body>
</html>